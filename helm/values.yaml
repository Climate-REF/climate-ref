imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

ingress:
  enabled: false
  host:
  className: ""
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"

flower:
  env:
    CELERY_BROKER_URL: redis://{{ template "common.names.fullname" .Subcharts.redis }}:6379

  replicaCount: 1

  image:
    repository: mher/flower
    pullPolicy: IfNotPresent
    tag: 2.0.1

  serviceAccount:
    create: true
    automount: false
    annotations: {}
    name: ""

  podAnnotations: {}
  podLabels: {}

  podSecurityContext: {}

  securityContext:
    capabilities:
      drop:
      - ALL
    readOnlyRootFilesystem: true
    runAsNonRoot: true

  service:
    type: ClusterIP
    port: 5555

  resources: {}

  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80
    # targetMemoryUtilizationPercentage: 80

  volumes: []
  volumeMounts: []
  nodeSelector: {}
  tolerations: []
  affinity: {}

ref:
  env:
    CELERY_BROKER_URL: redis://{{ template "common.names.fullname" .Subcharts.redis }}:6379
    REF_EXECUTOR: cmip_ref_celery.executor.CeleryExecutor
    REF_METRIC_PROVIDERS: cmip_ref_metrics_example

  replicaCount: 1

  image:
    repository: ghcr.io/climate-ref/ref
    pullPolicy: IfNotPresent
    # Overrides the image tag whose default is the chart appVersion.
    tag: ""

  serviceAccount:
    create: true
    automount: false
    annotations: {}
    name: ""

  podAnnotations: {}
  podLabels: {}

  podSecurityContext: {}

  securityContext:
    capabilities:
      drop:
      - ALL
    readOnlyRootFilesystem: true
    runAsNonRoot: true

  service:
    type: ClusterIP
    port: 80

  resources: {}

  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80
    # targetMemoryUtilizationPercentage: 80

  volumes: []
  volumeMounts: []
  nodeSelector: {}
  tolerations: []
  affinity: {}

packages:
  cmip-ref-metrics-example:
    image:
      repository: ghcr.io/climate-ref/ref
      pullPolicy: IfNotPresent
      tag: 0.2.0
    env:
      CELERY_BROKER_URL: redis://{{ template "common.names.fullname" .Subcharts.redis }}:6379
